<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The pages explain the transactions by using samples recorded or adapted from transactions performed during the annual Swiss projectathon (September 2020)."><meta name=author content="eHealth Suisse"><link href=https://ehealthsuisse.github.io/EPR-by-example/PDQ/ rel=canonical><link rel=prev href=..><link href=../PIXFeed/ rel=next><link rel=icon href=../media/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.4.14"><title>Patient Demographics Query - EPR by example</title><link rel=stylesheet href=../assets/stylesheets/main.fad675c6.min.css><link rel=stylesheet href=../assets/stylesheets/palette.356b1318.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../css/timeago.css><link rel=stylesheet href=../media/ehealthsuisse.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#patient-demographics-query class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=https://www.e-health-suisse.ch/ title="EPR by example" class="md-header__button md-logo" aria-label="EPR by example" data-md-component=logo> <img src=../media/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> EPR by example </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Patient Demographics Query </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://www.e-health-suisse.ch/ title="EPR by example" class="md-nav__button md-logo" aria-label="EPR by example" data-md-component=logo> <img src=../media/logo.svg alt=logo> </a> EPR by example </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Patient Management </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Patient Management </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Patient Demographics Query </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Patient Demographics Query </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#transaction class=md-nav__link> <span class=md-ellipsis> Transaction </span> </a> <nav class=md-nav aria-label=Transaction> <ul class=md-nav__list> <li class=md-nav__item> <a href=#message-semantics class=md-nav__link> <span class=md-ellipsis> Message Semantics </span> </a> <nav class=md-nav aria-label="Message Semantics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request-message class=md-nav__link> <span class=md-ellipsis> Request Message </span> </a> <nav class=md-nav aria-label="Request Message"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#message-interpretation class=md-nav__link> <span class=md-ellipsis> Message Interpretation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#response-message class=md-nav__link> <span class=md-ellipsis> Response Message </span> </a> <nav class=md-nav aria-label="Response Message"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#message-interpretation_1 class=md-nav__link> <span class=md-ellipsis> Message Interpretation </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#transport-protocol class=md-nav__link> <span class=md-ellipsis> Transport Protocol </span> </a> </li> <li class=md-nav__item> <a href=#audit-log class=md-nav__link> <span class=md-ellipsis> Audit Log </span> </a> </li> <li class=md-nav__item> <a href=#security-requirements class=md-nav__link> <span class=md-ellipsis> Security Requirements </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#test-opportunity class=md-nav__link> <span class=md-ellipsis> Test Opportunity </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../PIXFeed/ class=md-nav__link> <span class=md-ellipsis> PIX Feed </span> </a> </li> <li class=md-nav__item> <a href=../PIXQuery/ class=md-nav__link> <span class=md-ellipsis> PIX Query </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Document Management </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Document Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../RegistryStoredQuery/ class=md-nav__link> <span class=md-ellipsis> Registry Stored Query </span> </a> </li> <li class=md-nav__item> <a href=../RetrieveDocumentSet/ class=md-nav__link> <span class=md-ellipsis> Retrieve Document Set </span> </a> </li> <li class=md-nav__item> <a href=../ProvideAndRegister/ class=md-nav__link> <span class=md-ellipsis> Provide and Register Document Set </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Authentication </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Authentication </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../AuthenticateUser/ class=md-nav__link> <span class=md-ellipsis> Authenticate User </span> </a> </li> <li class=md-nav__item> <a href=../IdPRenew/ class=md-nav__link> <span class=md-ellipsis> IdP Renew </span> </a> </li> <li class=md-nav__item> <a href=../SSOLogout/ class=md-nav__link> <span class=md-ellipsis> SSO Logout </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Authorization </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Authorization </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../GetXAssertion/ class=md-nav__link> <span class=md-ellipsis> Get X-User Assertion </span> </a> </li> <li class=md-nav__item> <a href=../ProvideXAssertion/ class=md-nav__link> <span class=md-ellipsis> Provide X-User Assertion </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Audit </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Audit </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Atna/ class=md-nav__link> <span class=md-ellipsis> Audit logs </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex> <span class=md-ellipsis> Public Test Systems </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Public Test Systems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../playground/ class=md-nav__link> <span class=md-ellipsis> EPR Playground </span> </a> </li> <li class=md-nav__item> <a href=../gazelle/ class=md-nav__link> <span class=md-ellipsis> EPR Reference Environment </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex> <span class=md-ellipsis> Swiss EPR Exchange Formats </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Swiss EPR Exchange Formats </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../MedicationCardDocument/ class=md-nav__link> <span class=md-ellipsis> Medication Card document </span> </a> </li> <li class=md-nav__item> <a href=../ImmunizationAdministrationDocument/ class=md-nav__link> <span class=md-ellipsis> Immunization Administration Document </span> </a> </li> <li class=md-nav__item> <a href=../Questionnaire/ class=md-nav__link> <span class=md-ellipsis> How to build a FHIR-Questionnaire </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#transaction class=md-nav__link> <span class=md-ellipsis> Transaction </span> </a> <nav class=md-nav aria-label=Transaction> <ul class=md-nav__list> <li class=md-nav__item> <a href=#message-semantics class=md-nav__link> <span class=md-ellipsis> Message Semantics </span> </a> <nav class=md-nav aria-label="Message Semantics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request-message class=md-nav__link> <span class=md-ellipsis> Request Message </span> </a> <nav class=md-nav aria-label="Request Message"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#message-interpretation class=md-nav__link> <span class=md-ellipsis> Message Interpretation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#response-message class=md-nav__link> <span class=md-ellipsis> Response Message </span> </a> <nav class=md-nav aria-label="Response Message"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#message-interpretation_1 class=md-nav__link> <span class=md-ellipsis> Message Interpretation </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#transport-protocol class=md-nav__link> <span class=md-ellipsis> Transport Protocol </span> </a> </li> <li class=md-nav__item> <a href=#audit-log class=md-nav__link> <span class=md-ellipsis> Audit Log </span> </a> </li> <li class=md-nav__item> <a href=#security-requirements class=md-nav__link> <span class=md-ellipsis> Security Requirements </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#test-opportunity class=md-nav__link> <span class=md-ellipsis> Test Opportunity </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=patient-demographics-query>Patient Demographics Query<a class=headerlink href=#patient-demographics-query title="Permanent link"> ¶</a></h1> <p>Transaction to search for patient identities and data from a community using the patient demographic data as search criteria. Primary systems may use this transaction to verify if a patient uses a Swiss <abbr title="Electronic Patient Record">EPR</abbr> and is already registered in the community. </p> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link"> ¶</a></h2> <p>Primary systems may use this transaction to search for patients which are already registered in the community, either because the patient opened the Swiss <abbr title="Electronic Patient Record">EPR</abbr> in the community or because the patient opened the Swiss <abbr title="Electronic Patient Record">EPR</abbr> in a remote community and was already registered by another primary system to store documents. In the Swiss <abbr title="Electronic Patient Record">EPR</abbr> the <a href=https://profiles.ihe.net/ITI/TF/Volume1/ch-24.html rel="external nofollow noopener" target=_blank>IHE PDQV3</a> profile and transactions shall be used to search for patients by demographic data.</p> <p>To search for patients the primary system shall perform a <a href=https://profiles.ihe.net/ITI/TF/Volume2/ITI-47.html rel="external nofollow noopener" target=_blank>Patient Demographic Query [ITI-47]</a>. Within the query request the primary system shall provide the demographic data as search criteria. In the Swiss <abbr title="Electronic Patient Record">EPR</abbr> each community must support the name, birthdate, gender and nationality. Individual communities may support other demographic data (e.g., address and other contact data). </p> <p>The community sends a response with all patient data sets matching the search criteria. Each patient data set contains the known demographic data, the <abbr title="Electronic Patient Record">EPR</abbr>-SPID and the assigned ID. The response contains the master data set as well as all known patient data sets, as registered by other primary systems. </p> <h2 id=transaction>Transaction<a class=headerlink href=#transaction title="Permanent link"> ¶</a></h2> <h3 id=message-semantics>Message Semantics<a class=headerlink href=#message-semantics title="Permanent link"> ¶</a></h3> <p>Messages are encoded as described in the HL7 V3 standard with restrictions defined in the <a href=https://profiles.ihe.net/ITI/TF/Volume2/ITI-47.html rel="external nofollow noopener" target=_blank>IHE PDQ V3</a> profile and the ordinances to the Swiss <abbr title="Electronic Patient Record">EPR</abbr>.</p> <h4 id=request-message>Request Message<a class=headerlink href=#request-message title="Permanent link"> ¶</a></h4> <p>Since the <a href=http://www.hl7.org rel="external nofollow noopener" target=_blank>HL7 V3</a> standard is very generic, the request message is quite lengthy and needs some background information to interpret. The raw version of a request message may be found <a href=https://github.com/ehealthsuisse/EPR-by-example/tree/main/samples/ITI-47_request_raw.xml rel="external nofollow noopener" target=_blank>here</a>. For a step by step interpretation of the request message, see section below.</p> <h5 id=message-interpretation>Message Interpretation<a class=headerlink href=#message-interpretation title="Permanent link"> ¶</a></h5> <p>The request message is not very complex, but lengthy due to the genericity of the HL7 V3 standard. Therefore the following step by step interpretation may be of help to interpret the response.</p> <p>The SOAP <em>Header</em> element conveys the following information:</p> <ul> <li><em>To</em> element: The URL of the provide an register document set service.</li> <li><em>MessageID</em> element: a UUID of the message.</li> <li><em>Action</em> element: The SOAP action identifier of the request as defined in the IHE ITI Technical Framework.</li> </ul> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>SOAP header</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2> 2</a></span>
<span class=normal><a href=#__codelineno-0-3> 3</a></span>
<span class=normal><a href=#__codelineno-0-4> 4</a></span>
<span class=normal><a href=#__codelineno-0-5> 5</a></span>
<span class=normal><a href=#__codelineno-0-6> 6</a></span>
<span class=normal><a href=#__codelineno-0-7> 7</a></span>
<span class=normal><a href=#__codelineno-0-8> 8</a></span>
<span class=normal><a href=#__codelineno-0-9> 9</a></span>
<span class=normal><a href=#__codelineno-0-10>10</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-2 name=__codelineno-0-2></a><span class=w> </span><span class=nt>&lt;soap:Header&gt;</span>
<a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=w>  </span><span class=nt>&lt;Action</span><span class=w> </span><span class=na>soap:mustUnderstand=</span><span class=s>&quot;true&quot;</span>
<a id=__codelineno-0-4 name=__codelineno-0-4></a><span class=hll><span class=w>   </span><span class=na>xmlns=</span><span class=s>&quot;http://www.w3.org/2005/08/addressing&quot;</span><span class=nt>&gt;</span>urn:hl7-org:v3:PRPA_IN201305UV02<span class=nt>&lt;/Action&gt;</span>
</span><a id=__codelineno-0-5 name=__codelineno-0-5></a><span class=hll><span class=w>  </span><span class=nt>&lt;MessageID</span><span class=w> </span><span class=na>xmlns=</span><span class=s>&quot;http://www.w3.org/2005/08/addressing&quot;</span><span class=nt>&gt;</span>urn:uuid:9fe7246b-8fab-4dd7-976e-c81bc1955575<span class=nt>&lt;/MessageID&gt;</span>
</span><a id=__codelineno-0-6 name=__codelineno-0-6></a><span class=hll><span class=w>  </span><span class=nt>&lt;To</span><span class=w> </span><span class=na>xmlns=</span><span class=s>&quot;http://www.w3.org/2005/08/addressing&quot;</span><span class=nt>&gt;</span>https://epd-test.ith-icoserve.com:7443/PIXPDQ/services/PIXPDQV3ManagerService<span class=nt>&lt;/To&gt;</span>
</span><a id=__codelineno-0-7 name=__codelineno-0-7></a><span class=w>  </span><span class=nt>&lt;ReplyTo</span><span class=w> </span><span class=na>xmlns=</span><span class=s>&quot;http://www.w3.org/2005/08/addressing&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-0-8 name=__codelineno-0-8></a><span class=w>   </span><span class=nt>&lt;Address&gt;</span>http://www.w3.org/2005/08/addressing/anonymous<span class=nt>&lt;/Address&gt;</span>
<a id=__codelineno-0-9 name=__codelineno-0-9></a><span class=w>  </span><span class=nt>&lt;/ReplyTo&gt;</span>
<a id=__codelineno-0-10 name=__codelineno-0-10></a><span class=w> </span><span class=nt>&lt;/soap:Header&gt;</span>
</code></pre></div></td></tr></table></div> <p>For the patient demographic query no <em>Security</em> header element is required, since in the Swiss <abbr title="Electronic Patient Record">EPR</abbr> the access to the patient data is authorized for all applications, which are registered and authenticate with a client certificate (see section <a href=./#security-requirements>Security Requirements</a>).</p> <p>The SOAP <em>Body</em> element conveys the administrative information required for a PRPA_IN201305UV02 message in HL7 V3 syntax in which primary systems must set the following values:</p> <ul> <li><em>creationTime</em>: A timestamp in unix time format.</li> <li><em>sender</em> : The OID of the sender application initiating the request.</li> <li><em>receiver</em>: The OID of the receiver application which shall respond to the request.</li> </ul> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>PRPA_IN201305UV02 message</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-13>13</a></span>
<span class=normal><a href=#__codelineno-1-14>14</a></span>
<span class=normal><a href=#__codelineno-1-15>15</a></span>
<span class=normal><a href=#__codelineno-1-16>16</a></span>
<span class=normal><a href=#__codelineno-1-17>17</a></span>
<span class=normal><a href=#__codelineno-1-18>18</a></span>
<span class=normal><a href=#__codelineno-1-19>19</a></span>
<span class=normal><a href=#__codelineno-1-20>20</a></span>
<span class=normal><a href=#__codelineno-1-21>21</a></span>
<span class=normal><a href=#__codelineno-1-22>22</a></span>
<span class=normal><a href=#__codelineno-1-23>23</a></span>
<span class=normal><a href=#__codelineno-1-24>24</a></span>
<span class=normal><a href=#__codelineno-1-25>25</a></span>
<span class=normal><a href=#__codelineno-1-26>26</a></span>
<span class=normal><a href=#__codelineno-1-27>27</a></span>
<span class=normal><a href=#__codelineno-1-28>28</a></span>
<span class=normal><a href=#__codelineno-1-29>29</a></span>
<span class=normal><a href=#__codelineno-1-30>30</a></span>
<span class=normal><a href=#__codelineno-1-31>31</a></span>
<span class=normal><a href=#__codelineno-1-32>32</a></span>
<span class=normal><a href=#__codelineno-1-33>33</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-1-13 name=__codelineno-1-13></a><span class=w>   </span><span class=nt>&lt;id</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.2.3.4&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-14 name=__codelineno-1-14></a><span class=w>   </span><span class=nt>&lt;creationTime</span><span class=w> </span><span class=na>value=</span><span class=s>&quot;20230911143411&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-15 name=__codelineno-1-15></a><span class=w>   </span><span class=nt>&lt;interactionId</span><span class=w> </span><span class=na>extension=</span><span class=s>&quot;PRPA_IN201305UV02&quot;</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;2.16.840.1.113883.1.6&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-16 name=__codelineno-1-16></a><span class=w>   </span><span class=nt>&lt;processingCode</span><span class=w> </span><span class=na>code=</span><span class=s>&quot;P&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-17 name=__codelineno-1-17></a><span class=w>   </span><span class=nt>&lt;processingModeCode</span><span class=w> </span><span class=na>code=</span><span class=s>&quot;T&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-18 name=__codelineno-1-18></a><span class=w>   </span><span class=nt>&lt;acceptAckCode</span><span class=w> </span><span class=na>code=</span><span class=s>&quot;AL&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-19 name=__codelineno-1-19></a><span class=w>   </span><span class=nt>&lt;receiver</span><span class=w> </span><span class=na>typeCode=</span><span class=s>&quot;RCV&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-1-20 name=__codelineno-1-20></a><span class=w>    </span><span class=nt>&lt;device</span><span class=w> </span><span class=na>classCode=</span><span class=s>&quot;DEV&quot;</span><span class=w> </span><span class=na>determinerCode=</span><span class=s>&quot;INSTANCE&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-1-21 name=__codelineno-1-21></a><span class=w>     </span><span class=nt>&lt;id</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.3.6.1.4.1.21367.2017.2.5.97&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-22 name=__codelineno-1-22></a><span class=w>     </span><span class=nt>&lt;asAgent</span><span class=w> </span><span class=na>classCode=</span><span class=s>&quot;AGNT&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-1-23 name=__codelineno-1-23></a><span class=w>      </span><span class=nt>&lt;representedOrganization</span><span class=w> </span><span class=na>classCode=</span><span class=s>&quot;ORG&quot;</span><span class=w> </span><span class=na>determinerCode=</span><span class=s>&quot;INSTANCE&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-1-24 name=__codelineno-1-24></a><span class=w>       </span><span class=nt>&lt;id</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.3.6.1.4.1.21367.2017.2.7.127&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-25 name=__codelineno-1-25></a><span class=w>      </span><span class=nt>&lt;/representedOrganization&gt;</span>
<a id=__codelineno-1-26 name=__codelineno-1-26></a><span class=w>     </span><span class=nt>&lt;/asAgent&gt;</span>
<a id=__codelineno-1-27 name=__codelineno-1-27></a><span class=w>    </span><span class=nt>&lt;/device&gt;</span>
<a id=__codelineno-1-28 name=__codelineno-1-28></a><span class=w>   </span><span class=nt>&lt;/receiver&gt;</span>
<a id=__codelineno-1-29 name=__codelineno-1-29></a><span class=w>   </span><span class=nt>&lt;sender</span><span class=w> </span><span class=na>typeCode=</span><span class=s>&quot;SND&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-1-30 name=__codelineno-1-30></a><span class=w>    </span><span class=nt>&lt;device</span><span class=w> </span><span class=na>classCode=</span><span class=s>&quot;DEV&quot;</span><span class=w> </span><span class=na>determinerCode=</span><span class=s>&quot;INSTANCE&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-1-31 name=__codelineno-1-31></a><span class=w>     </span><span class=nt>&lt;id</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.2.3.4&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-1-32 name=__codelineno-1-32></a><span class=w>    </span><span class=nt>&lt;/device&gt;</span>
<a id=__codelineno-1-33 name=__codelineno-1-33></a><span class=w>   </span><span class=nt>&lt;/sender&gt;</span>
</code></pre></div></td></tr></table></div> <p>The query is encoded in a HL7 V3 <em>controlAct</em> object as follows:</p> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>PRPA_IN201305UV02 message</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-34>34</a></span>
<span class=normal><a href=#__codelineno-2-35>35</a></span>
<span class=normal><a href=#__codelineno-2-36>36</a></span>
<span class=normal><a href=#__codelineno-2-37>37</a></span>
<span class=normal><a href=#__codelineno-2-38>38</a></span>
<span class=normal><a href=#__codelineno-2-39>39</a></span>
<span class=normal><a href=#__codelineno-2-40>40</a></span>
<span class=normal><a href=#__codelineno-2-41>41</a></span>
<span class=normal><a href=#__codelineno-2-42>42</a></span>
<span class=normal><a href=#__codelineno-2-43>43</a></span>
<span class=normal><a href=#__codelineno-2-44>44</a></span>
<span class=normal><a href=#__codelineno-2-45>45</a></span>
<span class=normal><a href=#__codelineno-2-46>46</a></span>
<span class=normal><a href=#__codelineno-2-47>47</a></span>
<span class=normal><a href=#__codelineno-2-48>48</a></span>
<span class=normal><a href=#__codelineno-2-49>49</a></span>
<span class=normal><a href=#__codelineno-2-50>50</a></span>
<span class=normal><a href=#__codelineno-2-51>51</a></span>
<span class=normal><a href=#__codelineno-2-52>52</a></span>
<span class=normal><a href=#__codelineno-2-53>53</a></span>
<span class=normal><a href=#__codelineno-2-54>54</a></span>
<span class=normal><a href=#__codelineno-2-55>55</a></span>
<span class=normal><a href=#__codelineno-2-56>56</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-2-34 name=__codelineno-2-34></a><span class=w>   </span><span class=nt>&lt;controlActProcess</span><span class=w> </span><span class=na>classCode=</span><span class=s>&quot;CACT&quot;</span><span class=w> </span><span class=na>moodCode=</span><span class=s>&quot;EVN&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-2-35 name=__codelineno-2-35></a><span class=w>    </span><span class=nt>&lt;code</span><span class=w> </span><span class=na>code=</span><span class=s>&quot;PRPA_TE201305UV02&quot;</span><span class=w> </span><span class=na>codeSystem=</span><span class=s>&quot;2.16.840.1.113883.1.6&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-2-36 name=__codelineno-2-36></a><span class=w>    </span><span class=nt>&lt;queryByParameter&gt;</span>
<a id=__codelineno-2-37 name=__codelineno-2-37></a><span class=w>     </span><span class=nt>&lt;queryId</span><span class=w> </span><span class=na>extension=</span><span class=s>&quot;16944356511831&quot;</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.2.840.114350.1.13.28.1.18.5.999&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-2-38 name=__codelineno-2-38></a><span class=w>     </span><span class=nt>&lt;statusCode</span><span class=w> </span><span class=na>code=</span><span class=s>&quot;new&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-2-39 name=__codelineno-2-39></a><span class=w>     </span><span class=nt>&lt;responseModalityCode</span><span class=w> </span><span class=na>code=</span><span class=s>&quot;R&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-2-40 name=__codelineno-2-40></a><span class=w>     </span><span class=nt>&lt;responsePriorityCode</span><span class=w> </span><span class=na>code=</span><span class=s>&quot;I&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-2-41 name=__codelineno-2-41></a><span class=w>     </span><span class=nt>&lt;parameterList&gt;</span>
<a id=__codelineno-2-42 name=__codelineno-2-42></a><span class=w>      </span><span class=nt>&lt;livingSubjectId&gt;</span>
<a id=__codelineno-2-43 name=__codelineno-2-43></a><span class=w>       </span><span class=nt>&lt;value</span><span class=w> </span><span class=na>extension=</span><span class=s>&quot;08242eb8-dd47-4298-8d2f-25d60114f137&quot;</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.1.1.2.2&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-2-44 name=__codelineno-2-44></a><span class=w>       </span><span class=nt>&lt;semanticsText&gt;</span>LivingSubject.id<span class=nt>&lt;/semanticsText&gt;</span>
<a id=__codelineno-2-45 name=__codelineno-2-45></a><span class=w>      </span><span class=nt>&lt;/livingSubjectId&gt;</span>
<a id=__codelineno-2-46 name=__codelineno-2-46></a><span class=w>      </span><span class=nt>&lt;otherIDsScopingOrganization&gt;</span>
<a id=__codelineno-2-47 name=__codelineno-2-47></a><span class=w>       </span><span class=nt>&lt;value</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.3.6.1.4.1.21367.2017.2.5.93&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-2-48 name=__codelineno-2-48></a><span class=w>       </span><span class=nt>&lt;semanticsText&gt;</span>OtherIDs.scopingOrganization.id<span class=nt>&lt;/semanticsText&gt;</span>
<a id=__codelineno-2-49 name=__codelineno-2-49></a><span class=w>      </span><span class=nt>&lt;/otherIDsScopingOrganization&gt;</span>
<a id=__codelineno-2-50 name=__codelineno-2-50></a><span class=w>      </span><span class=nt>&lt;otherIDsScopingOrganization&gt;</span>
<a id=__codelineno-2-51 name=__codelineno-2-51></a><span class=w>       </span><span class=nt>&lt;value</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;2.16.756.5.30.1.127.3.10.3&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-2-52 name=__codelineno-2-52></a><span class=w>       </span><span class=nt>&lt;semanticsText&gt;</span>OtherIDs.scopingOrganization.id<span class=nt>&lt;/semanticsText&gt;</span>
<a id=__codelineno-2-53 name=__codelineno-2-53></a><span class=w>      </span><span class=nt>&lt;/otherIDsScopingOrganization&gt;</span>
<a id=__codelineno-2-54 name=__codelineno-2-54></a><span class=w>     </span><span class=nt>&lt;/parameterList&gt;</span>
<a id=__codelineno-2-55 name=__codelineno-2-55></a><span class=w>    </span><span class=nt>&lt;/queryByParameter&gt;</span>
<a id=__codelineno-2-56 name=__codelineno-2-56></a><span class=w>   </span><span class=nt>&lt;/controlActProcess&gt;</span>
</code></pre></div></td></tr></table></div> <p>The HL7 <em>controlAct</em> object conveys the query search parameter in a HL7 V3 <em>parameterList</em> element.</p> <p>In the above example these are </p> <ul> <li>the <em>livingSubjectId</em> conveying the local ID in the primary system of the patient data to search for,</li> <li>the <em>otherIDsScopingOrganization</em> to match with the registered patient data, </li> </ul> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>parameterList element</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-41>41</a></span>
<span class=normal><a href=#__codelineno-3-42>42</a></span>
<span class=normal><a href=#__codelineno-3-43>43</a></span>
<span class=normal><a href=#__codelineno-3-44>44</a></span>
<span class=normal><a href=#__codelineno-3-45>45</a></span>
<span class=normal><a href=#__codelineno-3-46>46</a></span>
<span class=normal><a href=#__codelineno-3-47>47</a></span>
<span class=normal><a href=#__codelineno-3-48>48</a></span>
<span class=normal><a href=#__codelineno-3-49>49</a></span>
<span class=normal><a href=#__codelineno-3-50>50</a></span>
<span class=normal><a href=#__codelineno-3-51>51</a></span>
<span class=normal><a href=#__codelineno-3-52>52</a></span>
<span class=normal><a href=#__codelineno-3-53>53</a></span>
<span class=normal><a href=#__codelineno-3-54>54</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-3-41 name=__codelineno-3-41></a><span class=w>     </span><span class=nt>&lt;parameterList&gt;</span>
<a id=__codelineno-3-42 name=__codelineno-3-42></a><span class=w>      </span><span class=nt>&lt;livingSubjectId&gt;</span>
<a id=__codelineno-3-43 name=__codelineno-3-43></a><span class=w>       </span><span class=nt>&lt;value</span><span class=w> </span><span class=na>extension=</span><span class=s>&quot;08242eb8-dd47-4298-8d2f-25d60114f137&quot;</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.1.1.2.2&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-3-44 name=__codelineno-3-44></a><span class=w>       </span><span class=nt>&lt;semanticsText&gt;</span>LivingSubject.id<span class=nt>&lt;/semanticsText&gt;</span>
<a id=__codelineno-3-45 name=__codelineno-3-45></a><span class=w>      </span><span class=nt>&lt;/livingSubjectId&gt;</span>
<a id=__codelineno-3-46 name=__codelineno-3-46></a><span class=w>      </span><span class=nt>&lt;otherIDsScopingOrganization&gt;</span>
<a id=__codelineno-3-47 name=__codelineno-3-47></a><span class=w>       </span><span class=nt>&lt;value</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.3.6.1.4.1.21367.2017.2.5.93&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-3-48 name=__codelineno-3-48></a><span class=w>       </span><span class=nt>&lt;semanticsText&gt;</span>OtherIDs.scopingOrganization.id<span class=nt>&lt;/semanticsText&gt;</span>
<a id=__codelineno-3-49 name=__codelineno-3-49></a><span class=w>      </span><span class=nt>&lt;/otherIDsScopingOrganization&gt;</span>
<a id=__codelineno-3-50 name=__codelineno-3-50></a><span class=w>      </span><span class=nt>&lt;otherIDsScopingOrganization&gt;</span>
<a id=__codelineno-3-51 name=__codelineno-3-51></a><span class=w>       </span><span class=nt>&lt;value</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;2.16.756.5.30.1.127.3.10.3&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-3-52 name=__codelineno-3-52></a><span class=w>       </span><span class=nt>&lt;semanticsText&gt;</span>OtherIDs.scopingOrganization.id<span class=nt>&lt;/semanticsText&gt;</span>
<a id=__codelineno-3-53 name=__codelineno-3-53></a><span class=w>      </span><span class=nt>&lt;/otherIDsScopingOrganization&gt;</span>
<a id=__codelineno-3-54 name=__codelineno-3-54></a><span class=w>     </span><span class=nt>&lt;/parameterList&gt;</span>
</code></pre></div></td></tr></table></div> <p>The query supports many more search options and filter parameter. For a documentation of the options see <a href=https://profiles.ihe.net/ITI/TF/Volume2/ITI-47.html#3.47 rel="external nofollow noopener" target=_blank>IHE PDQ V3</a>.</p> <h4 id=response-message>Response Message<a class=headerlink href=#response-message title="Permanent link"> ¶</a></h4> <p>Since the <a href=http://www.hl7.org rel="external nofollow noopener" target=_blank>HL7 V3</a> standard is very generic, the response message is quite lengthy and needs some background information to interpret. The raw version of a response message may be found <a href=https://github.com/ehealthsuisse/EPR-by-example/tree/main/samples/ITI-47_response_raw.xml rel="external nofollow noopener" target=_blank>here</a>. For a step by step interpretation of the message, see section below.</p> <h5 id=message-interpretation_1>Message Interpretation<a class=headerlink href=#message-interpretation_1 title="Permanent link"> ¶</a></h5> <p>The PDQV3 service responds with a list of patient data which match the search parameter in a HL7 V3 <em>subject</em> child element of the <em>controlAct</em> object. The <em>subject</em> child element conveys the following information:</p> <ul> <li><em>id</em>: the XAD PID, which identifies the patient in the community (line 50) and the <abbr title="Electronic Patient Record">EPR</abbr>-SPID (line 51).</li> <li><em>name</em>: conveying the given and the family names of the matching patient data (line 54).</li> <li><em>administrativeGenderCode</em>: conveying the coded value of patient gender (line 58), taken from the value sets defined in <a href=https://www.fedlex.admin.ch/eli/oc/2024/194/de/annexes rel="external nofollow noopener" target=_blank>Annex 3</a>. </li> <li><em>birthTime</em>: the data of birth of the matching patient data (line 59).</li> <li><em>addr</em>: The address data of the patient (line 60). </li> </ul> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>patient element</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-4-49>49</a></span>
<span class=normal><a href=#__codelineno-4-50>50</a></span>
<span class=normal><a href=#__codelineno-4-51>51</a></span>
<span class=normal><a href=#__codelineno-4-52>52</a></span>
<span class=normal><a href=#__codelineno-4-53>53</a></span>
<span class=normal><a href=#__codelineno-4-54>54</a></span>
<span class=normal><a href=#__codelineno-4-55>55</a></span>
<span class=normal><a href=#__codelineno-4-56>56</a></span>
<span class=normal><a href=#__codelineno-4-57>57</a></span>
<span class=normal><a href=#__codelineno-4-58>58</a></span>
<span class=normal><a href=#__codelineno-4-59>59</a></span>
<span class=normal><a href=#__codelineno-4-60>60</a></span>
<span class=normal><a href=#__codelineno-4-61>61</a></span>
<span class=normal><a href=#__codelineno-4-62>62</a></span>
<span class=normal><a href=#__codelineno-4-63>63</a></span>
<span class=normal><a href=#__codelineno-4-64>64</a></span>
<span class=normal><a href=#__codelineno-4-65>65</a></span>
<span class=normal><a href=#__codelineno-4-66>66</a></span>
<span class=normal><a href=#__codelineno-4-67>67</a></span>
<span class=normal><a href=#__codelineno-4-68>68</a></span>
<span class=normal><a href=#__codelineno-4-69>69</a></span>
<span class=normal><a href=#__codelineno-4-70>70</a></span>
<span class=normal><a href=#__codelineno-4-71>71</a></span>
<span class=normal><a href=#__codelineno-4-72>72</a></span>
<span class=normal><a href=#__codelineno-4-73>73</a></span>
<span class=normal><a href=#__codelineno-4-74>74</a></span>
<span class=normal><a href=#__codelineno-4-75>75</a></span>
<span class=normal><a href=#__codelineno-4-76>76</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-4-49 name=__codelineno-4-49></a><span class=w>       </span><span class=nt>&lt;ns1:patient</span><span class=w> </span><span class=na>classCode=</span><span class=s>&quot;PAT&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-50 name=__codelineno-4-50></a><span class=w>        </span><span class=nt>&lt;ns1:id</span><span class=w> </span><span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class=w> </span><span class=na>xsi:type=</span><span class=s>&quot;ns1:II&quot;</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.3.6.1.4.1.21367.2017.2.5.93&quot;</span><span class=w> </span><span class=na>extension=</span><span class=s>&quot;25f98b34-0e01-48b7-a06c-f706eb4c485f&quot;</span><span class=w> </span><span class=na>assigningAuthorityName=</span><span class=s>&quot;XDS Affinity Domain&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-4-51 name=__codelineno-4-51></a><span class=w>        </span><span class=nt>&lt;ns1:id</span><span class=w> </span><span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class=w> </span><span class=na>xsi:type=</span><span class=s>&quot;ns1:II&quot;</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;2.16.756.5.30.1.127.3.10.3&quot;</span><span class=w> </span><span class=na>extension=</span><span class=s>&quot;761337610411353650&quot;</span><span class=w> </span><span class=na>assigningAuthorityName=</span><span class=s>&quot;SPID&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-4-52 name=__codelineno-4-52></a><span class=w>        </span><span class=nt>&lt;ns1:statusCode</span><span class=w> </span><span class=na>code=</span><span class=s>&quot;active&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-4-53 name=__codelineno-4-53></a><span class=w>        </span><span class=nt>&lt;ns1:patientPerson</span><span class=w> </span><span class=na>classCode=</span><span class=s>&quot;PSN&quot;</span><span class=w> </span><span class=na>determinerCode=</span><span class=s>&quot;INSTANCE&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-54 name=__codelineno-4-54></a><span class=w>         </span><span class=nt>&lt;ns1:name</span><span class=w> </span><span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class=w> </span><span class=na>xsi:type=</span><span class=s>&quot;ns1:PN&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-55 name=__codelineno-4-55></a><span class=w>          </span><span class=nt>&lt;ns1:given&gt;</span>Dylan<span class=w> </span>Jose<span class=nt>&lt;/ns1:given&gt;</span>
<a id=__codelineno-4-56 name=__codelineno-4-56></a><span class=w>          </span><span class=nt>&lt;ns1:family&gt;</span>Dell<span class=nt>&lt;/ns1:family&gt;</span>
<a id=__codelineno-4-57 name=__codelineno-4-57></a><span class=w>         </span><span class=nt>&lt;/ns1:name&gt;</span>
<a id=__codelineno-4-58 name=__codelineno-4-58></a><span class=w>         </span><span class=nt>&lt;ns1:administrativeGenderCode</span><span class=w> </span><span class=na>code=</span><span class=s>&quot;F&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-4-59 name=__codelineno-4-59></a><span class=w>         </span><span class=nt>&lt;ns1:birthTime</span><span class=w> </span><span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class=w> </span><span class=na>xsi:type=</span><span class=s>&quot;ns1:TS&quot;</span><span class=w> </span><span class=na>value=</span><span class=s>&quot;19890622&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-4-60 name=__codelineno-4-60></a><span class=w>         </span><span class=nt>&lt;ns1:addr</span><span class=w> </span><span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class=w> </span><span class=na>xsi:type=</span><span class=s>&quot;ns1:AD&quot;</span><span class=w> </span><span class=na>use=</span><span class=s>&quot;HP&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-61 name=__codelineno-4-61></a><span class=w>          </span><span class=nt>&lt;ns1:city&gt;</span>Pontarlier<span class=nt>&lt;/ns1:city&gt;</span>
<a id=__codelineno-4-62 name=__codelineno-4-62></a><span class=w>          </span><span class=nt>&lt;ns1:postalCode&gt;</span>25300<span class=nt>&lt;/ns1:postalCode&gt;</span>
<a id=__codelineno-4-63 name=__codelineno-4-63></a><span class=w>          </span><span class=nt>&lt;ns1:streetName&gt;</span>Ruelle<span class=w> </span>de<span class=w> </span>la<span class=w> </span>Tour<span class=nt>&lt;/ns1:streetName&gt;</span>
<a id=__codelineno-4-64 name=__codelineno-4-64></a><span class=w>         </span><span class=nt>&lt;/ns1:addr&gt;</span>
<a id=__codelineno-4-65 name=__codelineno-4-65></a><span class=w>        </span><span class=nt>&lt;/ns1:patientPerson&gt;</span>
<a id=__codelineno-4-66 name=__codelineno-4-66></a><span class=w>        </span><span class=nt>&lt;ns1:providerOrganization</span><span class=w> </span><span class=na>classCode=</span><span class=s>&quot;ORG&quot;</span><span class=w> </span><span class=na>determinerCode=</span><span class=s>&quot;INSTANCE&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-67 name=__codelineno-4-67></a><span class=w>         </span><span class=nt>&lt;ns1:id</span><span class=w> </span><span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class=w> </span><span class=na>xsi:type=</span><span class=s>&quot;ns1:II&quot;</span><span class=w> </span><span class=na>root=</span><span class=s>&quot;1.3.6.1.4.1.21367.13.20.2000&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-4-68 name=__codelineno-4-68></a><span class=w>         </span><span class=nt>&lt;ns1:contactParty</span><span class=w> </span><span class=na>classCode=</span><span class=s>&quot;CON&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-4-69 name=__codelineno-4-69></a><span class=w>        </span><span class=nt>&lt;/ns1:providerOrganization&gt;</span>
<a id=__codelineno-4-70 name=__codelineno-4-70></a><span class=w>        </span><span class=nt>&lt;ns1:subjectOf1&gt;</span>
<a id=__codelineno-4-71 name=__codelineno-4-71></a><span class=w>         </span><span class=nt>&lt;ns1:queryMatchObservation</span><span class=w> </span><span class=na>classCode=</span><span class=s>&quot;COND&quot;</span><span class=w> </span><span class=na>moodCode=</span><span class=s>&quot;EVN&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-4-72 name=__codelineno-4-72></a><span class=w>          </span><span class=nt>&lt;ns1:code</span><span class=w> </span><span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class=w> </span><span class=na>xsi:type=</span><span class=s>&quot;ns1:CD&quot;</span><span class=w> </span><span class=na>code=</span><span class=s>&quot;IHE_PDQ&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-4-73 name=__codelineno-4-73></a><span class=w>          </span><span class=nt>&lt;ns1:value</span><span class=w> </span><span class=na>xmlns:xsi=</span><span class=s>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class=w> </span><span class=na>xsi:type=</span><span class=s>&quot;ns1:INT&quot;</span><span class=w> </span><span class=na>value=</span><span class=s>&quot;100&quot;</span><span class=nt>/&gt;</span>
<a id=__codelineno-4-74 name=__codelineno-4-74></a><span class=w>         </span><span class=nt>&lt;/ns1:queryMatchObservation&gt;</span>
<a id=__codelineno-4-75 name=__codelineno-4-75></a><span class=w>        </span><span class=nt>&lt;/ns1:subjectOf1&gt;</span>
<a id=__codelineno-4-76 name=__codelineno-4-76></a><span class=w>       </span><span class=nt>&lt;/ns1:patient&gt;</span>
</code></pre></div></td></tr></table></div> <h3 id=transport-protocol>Transport Protocol<a class=headerlink href=#transport-protocol title="Permanent link"> ¶</a></h3> <p>The primary system shall send the request messages to the registry of the community using the http POST binding as defined in the <a href=https://www.w3.org/TR/2007/REC-soap12-part0-20070427/#L26866 rel="external nofollow noopener" target=_blank>W3C SOAP specification</a>. It may look like: </p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-5-1>1</a></span>
<span class=normal><a href=#__codelineno-5-2>2</a></span>
<span class=normal><a href=#__codelineno-5-3>3</a></span>
<span class=normal><a href=#__codelineno-5-4>4</a></span>
<span class=normal><a href=#__codelineno-5-5>5</a></span>
<span class=normal><a href=#__codelineno-5-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1></a><span class=nf>POST</span> <span class=nn>/PDQV3Service</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<a id=__codelineno-5-2 name=__codelineno-5-2></a><span class=na>Host</span><span class=o>:</span> <span class=l>company.example.org</span>
<a id=__codelineno-5-3 name=__codelineno-5-3></a><span class=na>Accept-Encoding</span><span class=o>:</span> <span class=l>gzip, deflate</span>
<a id=__codelineno-5-4 name=__codelineno-5-4></a><span class=na>Connection</span><span class=o>:</span> <span class=l>Keep-Alive</span>
<a id=__codelineno-5-5 name=__codelineno-5-5></a><span class=na>Content-Type</span><span class=o>:</span> <span class=l>application/soap+xml; charset=&quot;utf-8&quot;</span>
<a id=__codelineno-5-6 name=__codelineno-5-6></a><span class=na>Content-Length</span><span class=o>:</span> <span class=l>nnnn  </span>
</code></pre></div></td></tr></table></div> <h3 id=audit-log>Audit Log<a class=headerlink href=#audit-log title="Permanent link"> ¶</a></h3> <p>Primary systems shall store syslog messages to the audit record repository of the community using <abbr title="Transport Layer Security">TLS</abbr> transport protocol. The audit message uses XML formatting as specified in <a href=https://tools.ietf.org/html/rfc3881 rel="external nofollow noopener" target=_blank>RFC 3881</a> with restrictions specified in the <a href="https://ehealthsuisse.ihe-europe.net/gss/audit-messages/view.seam?id=703" rel="external nofollow noopener" target=_blank>IHE ITI TF</a> and the <a href=https://www.fedlex.admin.ch/eli/oc/2024/194/de/annexes rel="external nofollow noopener" target=_blank>Extension 1 to Annex5</a> in the ordinances of the Swiss electronic patient record (see Section 1.5 "Requirements on <abbr title="Audit Trail and Node Authentication">ATNA</abbr>").</p> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>iti-47-log.xml</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-6-1> 1</a></span>
<span class=normal><a href=#__codelineno-6-2> 2</a></span>
<span class=normal><a href=#__codelineno-6-3> 3</a></span>
<span class=normal><a href=#__codelineno-6-4> 4</a></span>
<span class=normal><a href=#__codelineno-6-5> 5</a></span>
<span class=normal><a href=#__codelineno-6-6> 6</a></span>
<span class=normal><a href=#__codelineno-6-7> 7</a></span>
<span class=normal><a href=#__codelineno-6-8> 8</a></span>
<span class=normal><a href=#__codelineno-6-9> 9</a></span>
<span class=normal><a href=#__codelineno-6-10>10</a></span>
<span class=normal><a href=#__codelineno-6-11>11</a></span>
<span class=normal><a href=#__codelineno-6-12>12</a></span>
<span class=normal><a href=#__codelineno-6-13>13</a></span>
<span class=normal><a href=#__codelineno-6-14>14</a></span>
<span class=normal><a href=#__codelineno-6-15>15</a></span>
<span class=normal><a href=#__codelineno-6-16>16</a></span>
<span class=normal><a href=#__codelineno-6-17>17</a></span>
<span class=normal><a href=#__codelineno-6-18>18</a></span>
<span class=normal><a href=#__codelineno-6-19>19</a></span>
<span class=normal><a href=#__codelineno-6-20>20</a></span>
<span class=normal><a href=#__codelineno-6-21>21</a></span>
<span class=normal><a href=#__codelineno-6-22>22</a></span>
<span class=normal><a href=#__codelineno-6-23>23</a></span>
<span class=normal><a href=#__codelineno-6-24>24</a></span>
<span class=normal><a href=#__codelineno-6-25>25</a></span>
<span class=normal><a href=#__codelineno-6-26>26</a></span>
<span class=normal><a href=#__codelineno-6-27>27</a></span>
<span class=normal><a href=#__codelineno-6-28>28</a></span>
<span class=normal><a href=#__codelineno-6-29>29</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1></a><span class=cp>&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;</span>
<a id=__codelineno-6-2 name=__codelineno-6-2></a><span class=nt>&lt;AuditMessage&gt;</span>
<a id=__codelineno-6-3 name=__codelineno-6-3></a><span class=w> </span><span class=nt>&lt;EventIdentification</span><span class=w> </span><span class=na>EventActionCode=</span><span class=s>&quot;E&quot;</span><span class=w> </span><span class=na>EventDateTime=</span><span class=s>&quot;2020-09-30T19:27:29.386Z&quot;</span><span class=w> </span><span class=na>EventOutcomeIndicator=</span><span class=s>&quot;0&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-6-4 name=__codelineno-6-4></a><span class=w>  </span><span class=nt>&lt;EventID</span><span class=w> </span><span class=na>csd-code=</span><span class=s>&quot;110112&quot;</span><span class=w> </span><span class=na>codeSystemName=</span><span class=s>&quot;DCM&quot;</span><span class=w> </span><span class=na>originalText=</span><span class=s>&quot;Query&quot;</span><span class=nt>&gt;&lt;/EventID&gt;</span>
<a id=__codelineno-6-5 name=__codelineno-6-5></a><span class=w>  </span><span class=nt>&lt;EventTypeCode</span><span class=w> </span><span class=na>csd-code=</span><span class=s>&quot;ITI-47&quot;</span><span class=w> </span><span class=na>codeSystemName=</span><span class=s>&quot;IHE Transactions&quot;</span><span class=w> </span><span class=na>originalText=</span><span class=s>&quot;Patient Demographics Query&quot;</span><span class=nt>&gt;&lt;/EventTypeCode&gt;</span>
<a id=__codelineno-6-6 name=__codelineno-6-6></a><span class=w> </span><span class=nt>&lt;/EventIdentification&gt;</span>
<a id=__codelineno-6-7 name=__codelineno-6-7></a><span class=w> </span><span class=nt>&lt;ActiveParticipant</span><span class=w> </span><span class=na>UserID=</span><span class=s>&quot;https://my_primary_system.com/PDQConsumer&quot;</span><span class=w> </span><span class=na>AlternativeUserID=</span><span class=s>&quot;201809&quot;</span><span class=w> </span><span class=na>UserIsRequestor=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=na>NetworkAccessPointID=</span><span class=s>&quot;0045e6d09dd0&quot;</span><span class=w> </span><span class=na>NetworkAccessPointTypeCode=</span><span class=s>&quot;1&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-6-8 name=__codelineno-6-8></a><span class=w>  </span><span class=nt>&lt;RoleIDCode</span><span class=w> </span><span class=na>csd-code=</span><span class=s>&quot;110153&quot;</span><span class=w> </span><span class=na>codeSystemName=</span><span class=s>&quot;DCM&quot;</span><span class=w> </span><span class=na>originalText=</span><span class=s>&quot;Source Role ID&quot;</span><span class=nt>&gt;&lt;/RoleIDCode&gt;</span>
<a id=__codelineno-6-9 name=__codelineno-6-9></a><span class=w> </span><span class=nt>&lt;/ActiveParticipant&gt;</span>
<a id=__codelineno-6-10 name=__codelineno-6-10></a><span class=w> </span><span class=nt>&lt;ActiveParticipant</span><span class=w> </span><span class=na>UserID=</span><span class=s>&quot;_SYSTEM&quot;</span><span class=w> </span><span class=na>UserIsRequestor=</span><span class=s>&quot;true&quot;</span><span class=w> </span><span class=na>NetworkAccessPointID=</span><span class=s>&quot;0045e6d09dd0&quot;</span><span class=w> </span><span class=na>NetworkAccessPointTypeCode=</span><span class=s>&quot;1&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-6-11 name=__codelineno-6-11></a><span class=w>  </span><span class=nt>&lt;RoleIDCode</span><span class=w> </span><span class=na>csd-code=</span><span class=s>&quot;%All&quot;</span><span class=w> </span><span class=na>codeSystemName=</span><span class=s>&quot;HealthShare&quot;</span><span class=w> </span><span class=na>originalText=</span><span class=s>&quot;%All&quot;</span><span class=nt>&gt;&lt;/RoleIDCode&gt;</span>
<a id=__codelineno-6-12 name=__codelineno-6-12></a><span class=w> </span><span class=nt>&lt;/ActiveParticipant&gt;</span>
<a id=__codelineno-6-13 name=__codelineno-6-13></a><span class=w> </span><span class=nt>&lt;ActiveParticipant</span><span class=w> </span><span class=na>UserID=</span><span class=s>&quot;https://ehealthsuisse.ihe-europe.net/PDQService&quot;</span><span class=w> </span><span class=na>UserIsRequestor=</span><span class=s>&quot;false&quot;</span><span class=w> </span><span class=na>NetworkAccessPointID=</span><span class=s>&quot;ehealthsuisse.ihe-europe.net&quot;</span><span class=w> </span><span class=na>NetworkAccessPointTypeCode=</span><span class=s>&quot;1&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-6-14 name=__codelineno-6-14></a><span class=w>  </span><span class=nt>&lt;RoleIDCode</span><span class=w> </span><span class=na>csd-code=</span><span class=s>&quot;110152&quot;</span><span class=w> </span><span class=na>codeSystemName=</span><span class=s>&quot;DCM&quot;</span><span class=w> </span><span class=na>originalText=</span><span class=s>&quot;Destination Role ID&quot;</span><span class=nt>&gt;&lt;/RoleIDCode&gt;</span>
<a id=__codelineno-6-15 name=__codelineno-6-15></a><span class=w> </span><span class=nt>&lt;/ActiveParticipant&gt;</span>
<a id=__codelineno-6-16 name=__codelineno-6-16></a><span class=w> </span><span class=nt>&lt;AuditSourceIdentification</span><span class=w> </span><span class=na>AuditEnterpriseSiteID=</span><span class=s>&quot;2.16.756.5.30.1.109.6.1.3.1.1&quot;</span><span class=w> </span><span class=na>AuditSourceID=</span><span class=s>&quot;my.primary.system.ID&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-6-17 name=__codelineno-6-17></a><span class=w>  </span><span class=nt>&lt;AuditSourceTypeCode</span><span class=w> </span><span class=na>csd-code=</span><span class=s>&quot;4&quot;</span><span class=nt>&gt;&lt;/AuditSourceTypeCode&gt;</span>
<a id=__codelineno-6-18 name=__codelineno-6-18></a><span class=w> </span><span class=nt>&lt;/AuditSourceIdentification&gt;</span>
<a id=__codelineno-6-19 name=__codelineno-6-19></a><span class=w> </span><span class=nt>&lt;ParticipantObjectIdentification</span><span class=w> </span><span class=na>ParticipantObjectID=</span><span class=s>&quot;CHPAM34^^^&amp;amp;1.3.6.1.4.1.12559.11.20.1&amp;amp;ISO&quot;</span><span class=w> </span><span class=na>ParticipantObjectTypeCode=</span><span class=s>&quot;1&quot;</span><span class=w> </span><span class=na>ParticipantObjectTypeCodeRole=</span><span class=s>&quot;1&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-6-20 name=__codelineno-6-20></a><span class=w>  </span><span class=nt>&lt;ParticipantObjectIDTypeCode</span><span class=w> </span><span class=na>csd-code=</span><span class=s>&quot;2&quot;</span><span class=w> </span><span class=na>codeSystemName=</span><span class=s>&quot;RFC-3881&quot;</span><span class=w> </span><span class=na>originalText=</span><span class=s>&quot;Patient Number&quot;</span><span class=nt>&gt;&lt;/ParticipantObjectIDTypeCode&gt;</span>
<a id=__codelineno-6-21 name=__codelineno-6-21></a><span class=w>  </span><span class=nt>&lt;ParticipantObjectName&gt;</span>^Neil^Mellisa<span class=nt>&lt;/ParticipantObjectName&gt;</span>
<a id=__codelineno-6-22 name=__codelineno-6-22></a><span class=w>  </span><span class=nt>&lt;ParticipantObjectDetail</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;II&quot;</span><span class=w> </span><span class=na>value=</span><span class=s>&quot;RjlENjJBNjgtMDM1Mi0xMUVCLUE2RTgtMDI0MkFDMTQwMDAy&quot;</span><span class=nt>&gt;&lt;/ParticipantObjectDetail&gt;</span>
<a id=__codelineno-6-23 name=__codelineno-6-23></a><span class=w> </span><span class=nt>&lt;/ParticipantObjectIdentification&gt;</span>
<a id=__codelineno-6-24 name=__codelineno-6-24></a><span class=w> </span><span class=nt>&lt;ParticipantObjectIdentification</span><span class=w> </span><span class=na>ParticipantObjectID=</span><span class=s>&quot;1^^^&amp;amp;F9D62A4A-0352-11EB-A6E8-0242AC140002&amp;amp;ISO&quot;</span><span class=w> </span><span class=na>ParticipantObjectTypeCode=</span><span class=s>&quot;2&quot;</span><span class=w> </span><span class=na>ParticipantObjectTypeCodeRole=</span><span class=s>&quot;24&quot;</span><span class=nt>&gt;</span>
<a id=__codelineno-6-25 name=__codelineno-6-25></a><span class=w>  </span><span class=nt>&lt;ParticipantObjectIDTypeCode</span><span class=w> </span><span class=na>csd-code=</span><span class=s>&quot;ITI-47&quot;</span><span class=w> </span><span class=na>codeSystemName=</span><span class=s>&quot;IHE Transactions&quot;</span><span class=w> </span><span class=na>originalText=</span><span class=s>&quot;Patient Demographics Query&quot;</span><span class=nt>&gt;&lt;/ParticipantObjectIDTypeCode&gt;</span>
<a id=__codelineno-6-26 name=__codelineno-6-26></a><span class=w>  </span><span class=nt>&lt;ParticipantObjectQuery&gt;</span><span class=w> </span><span class=cm>&lt;!-- BASE-64 encoded copy of the query message --&gt;</span><span class=w> </span><span class=nt>&lt;/ParticipantObjectQuery&gt;</span>
<a id=__codelineno-6-27 name=__codelineno-6-27></a><span class=w>  </span><span class=nt>&lt;ParticipantObjectDetail</span><span class=w> </span><span class=na>type=</span><span class=s>&quot;MSH-10&quot;</span><span class=w> </span><span class=na>value=</span><span class=s>&quot;MV5eXiZGOUQ2MkE2OC0wMzUyLTExRUItQTZFOC0wMjQyQUMxNDAwMDImSVNP&quot;</span><span class=nt>&gt;&lt;/ParticipantObjectDetail&gt;</span>
<a id=__codelineno-6-28 name=__codelineno-6-28></a><span class=w> </span><span class=nt>&lt;/ParticipantObjectIdentification&gt;</span>
<a id=__codelineno-6-29 name=__codelineno-6-29></a><span class=nt>&lt;/AuditMessage&gt;</span>
</code></pre></div></td></tr></table></div> <p>The message is made of the following blocks:</p> <ul> <li><em>EventIdentification</em>: Event related information including the timestamp (line 3 .. 6).</li> <li><em>ActiveParticipant</em>: Information related to the primary system performing the query (line 7 .. 9).</li> <li><em>ActiveParticipant</em>: Information on the user initiating the transaction (line 10 .. 12).</li> <li><em>ActiveParticipant</em>: Information on the responding service endpoint (line 13 .. 15).</li> <li><em>AuditSourceIdentification</em>: Information related to the primary system performing the query (line 16 .. 18)</li> <li><em>ParticipantObjectIdentification</em>: Information on the patients <abbr title="Electronic Patient Record">EPR</abbr> accessed (line 19 .. 23)</li> <li><em>ParticipantObjectIdentification</em>: Request message related information including a UBASE-64 encoded copy of the query (line 24 .. 28).</li> </ul> <h3 id=security-requirements>Security Requirements<a class=headerlink href=#security-requirements title="Permanent link"> ¶</a></h3> <p>To ensure privacy the transaction must be secured using https with mutual authentication, with X.509 certificates (extended validation required) and client and server side certificate validation.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <ul> <li>Some test environments dropped the mutual authentication or <abbr title="Transport Layer Security">TLS</abbr> for testing purposes. Please contact your test system provider on the details.</li> </ul> </div> <h2 id=test-opportunity>Test Opportunity<a class=headerlink href=#test-opportunity title="Permanent link"> ¶</a></h2> <p>The transaction can be tested with the test suite of the <a href=../gazelle/ ><abbr title="Electronic Patient Record">EPR</abbr> reference environment</a>, test systems of the <abbr title="Electronic Patient Record">EPR</abbr> communities or the <a href=../playground/ ><abbr title="Electronic Patient Record">EPR</abbr> Playground</a>.</p> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-01-27T09:58:37+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-01-27</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> <a href=https://www.e-health-suisse.ch/ >eHealth Suisse</a> | <a href=https://github.com/ehealthsuisse/EPR-by-example/blob/main/LICENSE><em>Creative Commons Zero v1.0 Universal</em></a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["content.code.copy", "search.suggest", "search.highlight", "navigation.sections", "navigation.expand", "toc.follow"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.cd18aaf1.min.js></script> <script src=../js/timeago.min.js></script> <script src=../js/timeago_mkdocs_material.js></script> </body> </html>